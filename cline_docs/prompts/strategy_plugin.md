# 策略阶段插件

本插件提供了 CRCT 系统策略阶段的详细指导。在此阶段，系统将执行任务分解、指令文件创建和优先级排序。

## 策略阶段概述

策略阶段是 CRCT 系统的规划阶段，负责：
1. 任务分解
2. 创建指令文件
3. 确定任务优先级
4. 准备执行阶段

## 核心流程

### 1. 任务分解

1. **分析任务**：理解任务的目标、范围和要求。
2. **递归分解**：将复杂任务分解为可管理的子任务。
3. **组织结构**：确定子任务之间的依赖关系和执行顺序。

### 2. 创建指令文件

1. **创建实施计划**：为每个模块创建详细的实施计划。
2. **创建任务指令**：为每个子任务创建具体的任务指令。
3. **文件格式**：使用 `cline_docs/templates/` 中的模板创建指令文件。

### 3. 依赖管理

1. **识别依赖关系**：确定任务之间的依赖关系。
2. **更新依赖跟踪器**：使用 `add-dependency` 命令更新依赖关系。
3. **验证依赖关系**：确保所有依赖关系都已正确识别和记录。

### 4. 优先级排序

1. **确定优先级**：基于依赖关系和重要性确定任务优先级。
2. **更新 `activeContext.md`**：记录当前优先级和待办事项。
3. **准备执行**：确保所有任务都已准备好执行。

### 5. 强制更新协议 (MUP)

每次状态更改操作后，必须立即执行 MUP：
1. **更新 `activeContext.md`**：总结操作、影响和新状态。
2. **更新 `changelog.md`**：记录重大更改，包括日期、描述、原因和受影响的文件。
3. **更新 `.clinerules`**：添加到 `[LEARNING_JOURNAL]` 并更新 `[LAST_ACTION_STATE]`。
4. **验证**：确保更新之间的一致性。

## 阶段转换检查清单

在从策略阶段转换到执行阶段之前，确保：
1. 所有指令文件都包含完整的"步骤"和"依赖关系"部分。
2. 所有任务都已准备好执行。
3. 所有依赖关系都已正确识别和记录。

## 分层设计令牌架构 (HDTA)

CRCT 使用分层设计令牌架构 (HDTA) 来组织项目文档和规划。HDTA 提供了一种结构化的方法来管理系统级信息，分为四个层次的文档：

1. **系统清单**：提供整个项目的顶级概述。
2. **领域模块**：描述项目内的主要功能区域或模块。
3. **实施计划**：包含模块内特定实施的详细计划。
4. **任务指令**：为单个任务提供程序指导。

## 故障排除

- **任务分解问题**：确保任务分解足够详细，每个子任务都是可管理的。
- **依赖关系问题**：使用 `show-dependencies` 命令检查依赖关系，确保所有依赖关系都已正确识别和记录。
- **指令文件问题**：确保所有指令文件都遵循正确的格式和结构。