[计数]
n + 1 = (x)
*这是一个系统范围的渐进计数器，其中 x = 当前响应数。这必须显示在每个响应的顶部。（例如 1, 2, ...）*

[LAST_ACTION_STATE]
last_action: "System Initialized"
current_phase: "Set-up/Maintenance"
next_action: "Initialize Core Files"
next_phase: "Set-up/Maintenance"

---

[CODE_ROOT_DIRECTORIES]
- src

[DOC_DIRECTORIES]
- docs

[LEARNING_JOURNAL]
- 我必须避免在任何时候提及工具名称，直到我打算输出工具请求 XML 为止。
- 定期更新 {memory_dir} 和任何指令文件有助于我记住我已经做了什么以及还需要做什么，这样我就不会丢失跟踪。
- 确保函数优雅地处理潜在的 `None` 输入，以防止 TypeError。
- 在重构后精确验证函数调用参数是否与定义匹配。
- `analyze-project` 隐式处理密钥重新生成和跟踪器更新。
- 大上下文窗口可能导致 `write_to_file` 截断；对于针对性更改，首选 `apply_diff`。
- 调试 TypeError 时，验证在函数之间传递的数据结构（例如列表 vs. 字典 vs. 浮点数）。
- 调查跟踪器文件中的重复错误时，仔细检查文件写入逻辑（覆盖 vs. 追加 vs. 缓冲区中的重建）。确保写入模式（'w'）完全覆盖。
- 在添加/更改依赖关系时，请小心遵守依赖关系字符的基本事实定义。
- 使用 `apply_diff` 时，SEARCH 块必须与当前文件内容完全匹配，没有任何先前 diff 尝试中的 +/- 标记。如果不确定，请使用 `read_file` 确认内容。密切注意错误消息中的"最佳匹配"块，它显示工具实际搜索的*内容*，这可能与您的预期 SEARCH 块不同，由于先前的编辑或细微差异。
- 分析（`cProfile`）对于识别性能瓶颈至关重要。
- 使用 `.union()` 等方法时确保正确的数据类型（需要集合，而不是列表）。
- 集中化配置（如字符优先级 `config_manager.py`）比在多个地方定义它们更能提高一致性和可维护性。
- 在应用 `.union()` 等方法之前，确认函数返回的数据类型（例如列表 vs. 集合）。
- 系统地验证密钥之间双向的依赖关系，并理解相互系统的行为，对于准确的跟踪器更新至关重要。
- 在使用 `add-dependency` 时，利用相互系统，通过从源设置 '>' 到目标，自动从目标设置 '<' 依赖关系到源，反之亦然。
- 将 `execute_command` 与适当的 shell 命令（如 PowerShell 的 `Rename-Item`）一起用于文件系统操作，如重命名，而不是试图用 `write_to_file` 或 `read_file` 模拟它们。*使用完整路径*
- 在尝试代码修改之前执行依赖关系分析并读取依赖文件*至关重要*，以确保考虑所有相关上下文。未能这样做会导致错误和浪费精力。
- 当 `apply_diff` 即使在重新读取后也找不到匹配项时，使用带有完整预期内容的 `write_to_file` 是更新文件的可靠替代方法。
- 在提出 `execute_command` 命令时，提高确定用户活动 shell 环境的准确性，特别是在 Windows 系统上，不同的 shell（CMD、PowerShell）具有不同的语法。优先考虑环境详细信息，但如有必要，准备要求用户澄清。
- 仔细区分策略任务（规划、定义、设计、探索、审查、分析）和执行任务（实施、创建代码/脚本、集成、编码、编写测试、修改文件）。
- 监控和管理上下文窗口大小以避免超出限制并需要过早的交接。
- 更新 HDTA 审查进度跟踪器时，准确反映文档的内容是否在当前会话中*被读取和审查*，而不仅仅是文件是否存在或已创建。状态复选框应反映*我*对文档内容的处理。

[字符定义]

```
- `<`：行**在功能上依赖**或需要列的上下文/操作。
- `>`：列**在功能上依赖**或需要行的上下文/操作。
- `x`：相互功能依赖或深层概念链接。
- `d`：行是文档**对理解/使用列至关重要**，反之亦然。
- `o`：自依赖（仅对角线 - 自动管理）。
- `n`：**已验证无功能依赖**或基本概念链接。
- `p`：占位符（未验证 - 需要调查）。
- `s`/`S`：语义相似性建议（需要验证功能/深层概念链接）。
```

---

**重要提示**
1. 了解目标：明确定义当前步骤的目标。
2. 分析错误：理解错误消息及其上下文。
3. 制定计划：制定解决问题的计划，逐步进行。
    *考虑所有相关方面*（例如文件、模块、依赖关系等）
4. 执行计划（工具使用）：使用适当的工具执行计划的*一步*。
5. 验证结果：检查工具使用是否成功以及是否解决了错误。
6. 迭代：如果错误仍然存在，返回步骤 2 并根据新信息完善计划。

**在您打算使用工具之前，请勿使用工具名称**
*您必须监控环境详细信息中显示的上下文窗口使用情况。对于每 1/5 的可用/最大上下文窗口，您必须启动 MUP。*
